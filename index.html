<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Extra functions for dealing with citation keys, inline citations and references. • xciter</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Extra functions for dealing with citation keys, inline citations and references.">
<meta name="description" content="Citation related functions used in dynamic reporting - particularily within tables where normal rendering does not work.">
<meta property="og:description" content="Citation related functions used in dynamic reporting - particularily within tables where normal rendering does not work.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">xciter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NewGraphEnvironment/xciter/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="xciter">xciter<a class="anchor" aria-label="anchor" href="#xciter"></a>
</h1></div>
<p><img src="https://img.shields.io/badge/status-haywire-red" alt="Haywire"><img src="https://img.shields.io/badge/NeverMind-MaybeNotHelpful-green" alt="MaybeNotHelpful"></p>
<p>This package focuses solely on “extra” functions related to citeing bibliography items such as processing .bib files to get citation keys, processing BiBtex keys to get inline citations, etc. We are calling it “extra” because we rely heavily on <a href="https://github.com/paleolimbot/rbbt" class="external-link"><code>rbbt</code></a> and standard <code><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">rmarkdown::render</a></code> magic to almost everything we need to do. Some functions for rendering citation keys as inline references wrap calls to <code>pandoc</code> so that needs to be installed. If you have Rstudion you likely have it already.</p>
<p>This package deals with a few problems as follows:</p>
<ul>
<li>Provides a central place for us to keep an up to date <code>NewGraphEnvironment.bib</code> file representing our shared library. Can be found here <code>path_bib &lt;- system.file("extdata", "NewGraphEnvironment.bib", package = "xciter")</code>
</li>
<li>Identify all citation keys in documents and confirm their presence in a specified .bib file.</li>
<li>Highlight citation keys that do not match and suggest the closest matching keys from the .bib file.</li>
<li>Provide workarounds for citation handling in interactive tables <a href="https://github.com/rstudio/DT" class="external-link">(DT)</a> and other HTML outputs where standard citation rendering in R Markdown and Quarto may fail.</li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of xciter from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"NewGraphEnvironment/xciter"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example of subbing citation keys for inline references within a table so that it can be rendered as is after the changes are made:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/NewGraphEnvironment/xciter/" class="external-link">xciter</a></span><span class="op">)</span></span>
<span><span class="co">## basic example code</span></span>
<span></span>
<span><span class="va">path_bib</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"NewGraphEnvironment.bib"</span>, package <span class="op">=</span> <span class="st">"xciter"</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>  bib_keys <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Outside block quotes @busch_etal2011LandscapeLevelModela and in [@woll_etal2017SalmonEcological]"</span>,</span>
<span>    <span class="st">"This is many [@busch_etal2011LandscapeLevelModela; @woll_etal2017SalmonEcological; @kirsch_etal2014Fishinventorya]"</span>,</span>
<span>    <span class="st">"this is a failed key @key3"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/xct_keys_to_inline.html">xct_keys_to_inline_table_col</a></span><span class="op">(</span><span class="va">dat</span>, col_format <span class="op">=</span> <span class="st">"bib_keys"</span>, path_bib <span class="op">=</span> <span class="va">path_bib</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id</span></span>
<span><span class="co">#&gt; 1  1</span></span>
<span><span class="co">#&gt; 2  2</span></span>
<span><span class="co">#&gt; 3  3</span></span>
<span><span class="co">#&gt;                                                                                             bib_keys</span></span>
<span><span class="co">#&gt; 1                    Outside block quotes Busch et al. (2011) and in (Woll, Albert, and Whited 2017)</span></span>
<span><span class="co">#&gt; 2 This is many (Busch et al. 2011; Woll, Albert, and Whited 2017; Kirsch, Buckwalter, and Reed 2014)</span></span>
<span><span class="co">#&gt; 3                                                                       this is a failed key (key3?)</span></span></code></pre></div>
<p>This is a basic example of checking if the citation keys within a bookdown document are found within a specified <code>.bib</code> file.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">key_missing</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/xct_bib_clean.html">xct_bib_keys_missing</a></span><span class="op">(</span><span class="va">path_bib</span>, <span class="st">"kirsch_etal2014Fishinventory"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ! The following citations were not found in the BibTeX file:</span></span>
<span><span class="co">#&gt; [1] "kirsch_etal2014Fishinventory"</span></span></code></pre></div>
<p><br></p>
<p>This is an example of how to search for the closest match for an unmatched key.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/xct_bib_clean.html">xct_keys_guess_match</a></span><span class="op">(</span><span class="va">key_missing</span>, keys_bib <span class="op">=</span> <span class="fu"><a href="reference/xct_bib_clean.html">xct_bib_keys_extract</a></span><span class="op">(</span><span class="va">path_bib</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                    key_missing       key_missing_guess_match</span></span>
<span><span class="co">#&gt; 1 kirsch_etal2014Fishinventory kirsch_etal2014Fishinventorya</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/NewGraphEnvironment/xciter/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/NewGraphEnvironment/xciter/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing xciter</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Allan Irvine <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3495-2128" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Allan Irvine.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
