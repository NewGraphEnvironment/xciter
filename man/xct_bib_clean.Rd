% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/xct_bib_clean.R
\name{xct_bib_keys_missing}
\alias{xct_bib_keys_missing}
\alias{xct_bib_keys_extract}
\alias{xct_keys_guess_match}
\title{Check for Missing Citation Keys in a BibTeX File}
\usage{
xct_bib_keys_missing(path_bib, citations)

xct_bib_keys_extract(path_bib)

xct_keys_guess_match(
  keys_missing,
  keys_bib,
  stringdist_threshold = 15,
  stringdist_method = "dl",
  no_match_rows_include = FALSE
)
}
\arguments{
\item{path_bib}{A file path to the bibliography file (\code{.bib}) used for citation keys.
Defaults to \code{"references.bib"} in the current working directory.}

\item{keys_missing}{\link{character} A vector of citation keys that are missing from the BibTeX file.
Typically obtained using \code{\link[=xct_bib_keys_missing]{xct_bib_keys_missing()}}.}

\item{keys_bib}{\link{character} A vector of citation keys extracted from the BibTeX file.
Typically obtained using \code{\link[=xct_bib_keys_extract]{xct_bib_keys_extract()}}.}

\item{stringdist_threshold}{\link{numeric} The maximum allowable string distance for a match to be considered valid.
This value is passed to \verb{[stringdist::stringdist()]} for the specified method. Distances are non-negative numeric values
where smaller values indicate greater similarity. For short strings (5-10 characters), use \code{1-3}; for medium strings
(10-20 characters), use \code{3-7}; and for longer strings (>20 characters), use \code{7-15}. Default is \code{15}. Interestingly,
we see some accurate matches at 25 however we also get mismatches when we go this high which could result in
incorrect citations if we find replace those!!}

\item{stringdist_method}{\link{character} The method used by \verb{[stringdist::stringdist()]} to calculate string distances.
Options include "osa" (Optimal String Alignment, default), "lv" (Levenshtein), "dl" (Damerau-Levenshtein), "jw" (Jaro-Winkler),
and others. See \verb{[stringdist::stringdist()]} documentation for details. Default is "dl".}

\item{no_match_rows_include}{\link{logical} Whether to include rows for keys with no valid matches in the output.
Default is \code{FALSE}, which excludes such rows.}

\item{keys}{\link{character} A vector of citation keys to check for in the BibTeX file.}
}
\value{
A vector of citation keys missing from the BibTeX file. Returns an empty
vector if all citation keys are found.

A character vector of citation keys extracted from the BibTeX file.

A data frame with two columns:
\describe{
\item{key_missing}{The missing citation keys.}
\item{key_missing_guess_match}{The guessed closest matching citation keys (or \code{NA} if no valid match is found).}
}
If \code{no_match_rows_include = FALSE}, rows with no valid matches are excluded.
}
\description{
This function identifies citation keys provided in a list that are missing from
a specified BibTeX file. It ensures the BibTeX file exists and processes the
file to match the citation keys.

This function extracts all citation keys from a given BibTeX file.

This function attempts to find the closest matching citation keys for keys
that are missing from a BibTeX file, based on string distance. Users can set
a threshold for the maximum allowable distance for a match, optionally
exclude rows where no matches are close enough, and choose the string
distance calculation method.
}
\examples{
\dontrun{
path_bib <- system.file("extdata", "references.bib", package = "xciter")
citations <- c("Smith2020", "Jones2019")
xct_bib_keys_missing(path_bib, citations)
}
# Path to the example BibTeX file
path_bib <- system.file("extdata", "references.bib", package = "xciter")

# Define the citation keys to check
keys <- c("busch_etal2011LandscapeLevelModel",
          "kirsch_etal2014Fishinventoryb",
          "test2001")

# Extract keys from the BibTeX file
keys_bib <- xct_bib_keys_extract(path_bib)

# Identify missing keys
keys_missing <- xct_bib_keys_missing(path_bib, keys)

# Guess matches for missing keys with a string distance threshold and method
xct_keys_guess_match(keys_missing, keys_bib)
}
\seealso{
\code{\link[=xct_bib_keys_missing]{xct_bib_keys_missing()}}, \code{\link[=xct_bib_keys_extract]{xct_bib_keys_extract()}}, \code{\link[stringdist:stringdist]{stringdist::stringdist()}}

Other cite: 
\code{\link{xct_assemble}()},
\code{\link{xct_format}()},
\code{\link{xct_format_single}()},
\code{\link{xct_keys_extract}()},
\code{\link{xct_keys_to_inline}()},
\code{\link{xct_keys_to_xref}()}
}
\concept{cite}
